import{c as A,r as g,j as e,A as T,f as U,M as B,g as W,h,a as M,F as N,i,S as c,_ as v}from"./index-2444a23b.js";import{U as w}from"./upload-cloud-013d167b.js";/**
 * @license lucide-react v0.299.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=A("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.299.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=A("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),$=["Conceptual","Design","Validation","Startup"],J=({settings:t,setSettings:d,onNavigateBack:D,attachmentDirStatus:n,attachmentDirName:L,onChooseAttachmentDirectory:R,onClearAttachmentDirectory:P,onRetryAttachmentPermission:K})=>{const b=g.useRef(null),y=g.useRef(null),[m,u]=g.useState(t.logo||null),[k,f]=g.useState(""),l=g.useMemo(()=>{const r=Array.isArray(t==null?void 0:t.phases)?t.phases.filter(Boolean):[];return r.length?r:$},[t==null?void 0:t.phases]),E=r=>{var o;const a=(o=r.target.files)==null?void 0:o[0];if(!a)return;const s=new FileReader;s.onload=()=>{const x=s.result;u(x),d(S=>({...S,logo:x}))},s.readAsDataURL(a)},p=r=>{d(a=>({...a,theme:r}))},F=()=>{const r=i.get(c.WORK_CHECKLIST,{tiles:[],meetings:[],projects:[],settings:t}),a=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),s=URL.createObjectURL(a),o=document.createElement("a");o.href=s,o.download="work-checklist-backup.json",o.click(),URL.revokeObjectURL(s)},I=r=>{var o;const a=(o=r.target.files)==null?void 0:o[0];if(!a)return;const s=new FileReader;s.onload=()=>{try{const x=JSON.parse(s.result);i.set(c.WORK_CHECKLIST,x),confirm("Backup restored. Reload app to apply?")&&window.location.reload()}catch{alert("Invalid backup file")}},s.readAsText(a)},_=()=>{confirm("This clears all app data from local storage. Continue?")&&(i.remove(c.WORK_CHECKLIST),i.remove(c.TOKENS),window.location.reload())},j=()=>{const r=k.trim();if(r){if(l.some(a=>a.toLowerCase()===r.toLowerCase())){alert("Phase already exists.");return}d(a=>({...a,phases:[...l,r]})),f("")}},O=r=>{if(l.length<=1){alert("Keep at least one phase.");return}confirm(`Remove phase "${r}"? Existing tasks keep their current value.`)&&d(a=>({...a,phases:l.filter(s=>s!==r)}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Workspace Settings"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Customize the experience for everyone using this app."})]}),e.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm font-medium text-gray-600 transition hover:bg-gray-100 hover:text-gray-900 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-[#1A1D24] dark:hover:text-gray-100",children:[e.jsx(T,{className:"w-4 h-4"}),"Back to timeline"]})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white navy-surface p-6 shadow-sm dark:border-gray-800 dark:bg-[#0F1115]",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Pages"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose which pages appear in the navigation."}),e.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[e.jsxs("label",{className:"inline-flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("input",{type:"checkbox",checked:t.showFinance!==!1,onChange:r=>d(a=>({...a,showFinance:r.target.checked}))}),"Finance"]}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("input",{type:"checkbox",checked:t.showAgent!==!1,onChange:r=>d(a=>({...a,showAgent:r.target.checked}))}),"Agent"]}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("input",{type:"checkbox",checked:t.showDeepL!==!1,onChange:r=>d(a=>({...a,showDeepL:r.target.checked}))}),"DeepL"]})]})]}),e.jsx("section",{className:"rounded-xl border border-gray-200 bg-white navy-surface p-6 shadow-sm dark:border-gray-800 dark:bg-[#0F1115]",children:e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Appearance"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Switch between light, dark, or evening-friendly comfort mode."})]}),e.jsxs("div",{className:"inline-flex rounded-lg bg-gray-100 p-1 dark:bg-[#1A1D24]",children:[e.jsxs("button",{onClick:()=>p("light"),className:`flex items-center gap-1 rounded-md px-3 py-1 text-sm font-medium transition ${t.theme==="light"?"bg-white text-indigo-600 shadow-sm dark:bg-[#2B2F3A] dark:text-indigo-300":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"}`,children:[e.jsx(U,{className:"w-4 h-4"}),"Light"]}),e.jsxs("button",{onClick:()=>p("dark"),className:`ml-1 flex items-center gap-1 rounded-md px-3 py-1 text-sm font-medium transition ${t.theme==="dark"?"bg-white text-indigo-600 shadow-sm dark:bg-[#2B2F3A] dark:text-indigo-300":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"}`,children:[e.jsx(B,{className:"w-4 h-4"}),"Dark"]}),e.jsxs("button",{onClick:()=>p("navy"),className:`ml-1 flex items-center gap-1 rounded-md px-3 py-1 text-sm font-medium transition ${t.theme==="navy"?"bg-white text-indigo-600 shadow-sm dark:bg-[#2B2F3A] dark:text-indigo-300":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"}`,children:[e.jsx(W,{className:"w-4 h-4"}),"Comfort"]})]})]})}),e.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white navy-surface p-6 shadow-sm dark:border-gray-800 dark:bg-[#0F1115]",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Brand"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Upload a logo to personalize the workspace."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center overflow-hidden rounded-xl border border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-[#1A1D24]",children:m?e.jsx("img",{src:m,alt:"Workspace logo",className:"max-h-full max-w-full object-contain"}):e.jsx("span",{className:"text-xs text-gray-400",children:"No Logo"})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{className:"rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-[#1A1D24]",onClick:()=>{var r;return(r=b.current)==null?void 0:r.click()},children:"Upload Logo"}),m&&e.jsx("button",{className:"rounded-lg border border-red-200 px-3 py-2 text-sm font-medium text-red-600 transition hover:bg-red-50 dark:border-red-900 dark:text-red-300 dark:hover:bg-red-900/30",onClick:()=>{u(null),d(r=>({...r,logo:null}))},children:"Remove"}),e.jsx("input",{ref:b,type:"file",accept:"image/*",className:"hidden",onChange:E})]})]})]}),e.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white navy-surface p-6 shadow-sm dark:border-gray-800 dark:bg-[#0F1115]",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Task Phases"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Define the phases available when creating or editing tasks."}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.map(r=>e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-indigo-100 bg-indigo-50 px-3 py-1 text-sm font-medium text-indigo-700 dark:border-indigo-700/40 dark:bg-indigo-900/30 dark:text-indigo-200",children:[r,e.jsx("button",{type:"button",className:"p-1 text-indigo-500 hover:text-indigo-700 dark:text-indigo-300 dark:hover:text-indigo-100",onClick:()=>O(r),"aria-label":`Remove phase ${r}`,children:e.jsx(h,{className:"w-3 h-3"})})]},r)),!l.length&&e.jsx("span",{className:"text-sm text-gray-500",children:"No phases yet"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("input",{type:"text",value:k,onChange:r=>f(r.target.value),onKeyDown:r=>{r.key==="Enter"&&(r.preventDefault(),j())},placeholder:"Add a phase",className:"w-full max-w-xs rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-[#1A1D24] dark:text-gray-100 dark:focus:ring-indigo-500/40"}),e.jsxs("button",{type:"button",onClick:j,className:"inline-flex items-center gap-1 rounded-lg bg-indigo-600 px-3 py-2 text-sm font-medium text-white transition hover:bg-indigo-500",children:[e.jsx(M,{className:"w-4 h-4"}),"Add phase"]})]})]}),e.jsx("section",{className:"rounded-xl border border-gray-200 bg-white navy-surface p-6 shadow-sm dark:border-gray-800 dark:bg-[#0F1115]",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Attachment Storage"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Select a local folder where meeting and project files will be stored."})]}),e.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold ${n==="granted"?"border-emerald-300 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-200 dark:border-emerald-800/60":n==="denied"?"border-amber-300 bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800/60":"border-gray-300 bg-gray-50 text-gray-600 dark:bg-[#1A1D24] dark:text-gray-300 dark:border-gray-700"}`,children:[e.jsx(N,{className:"w-4 h-4"}),n==="granted"&&(L||"Folder linked"),n==="denied"&&"Permission needed",n==="not-configured"&&"No folder selected",n==="checking"&&"Checking accessâ€¦"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-[#1A1D24]",onClick:R,children:[e.jsx(N,{className:"w-4 h-4"}),"Choose Folder"]}),n==="denied"&&e.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-amber-300 px-3 py-2 text-sm font-medium text-amber-600 transition hover:bg-amber-50 dark:border-amber-800 dark:text-amber-200 dark:hover:bg-amber-900/30",onClick:K,children:[e.jsx(H,{className:"w-4 h-4"}),"Re-authorize"]}),n!=="not-configured"&&e.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-red-200 px-3 py-2 text-sm font-medium text-red-600 transition hover:bg-red-50 dark:border-red-900 dark:text-red-300 dark:hover:bg-red-900/30",onClick:P,children:[e.jsx(h,{className:"w-4 h-4"}),"Clear Link"]})]})]})}),e.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-[#0F1115] space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"AI Integration"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Store credentials locally for OpenAI actions and DeepL translation."})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-2",children:"OpenAI API Key"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"password",value:t.apiKey||"",onChange:r=>d(a=>({...a,apiKey:r.target.value})),placeholder:"sk-...",className:"flex-1 min-w-[220px] rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-[#1A1D24] dark:text-gray-100 dark:focus:ring-indigo-500/40"}),e.jsx("span",{className:"text-[11px] text-gray-500 dark:text-gray-400",children:"Stored locally"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-2",children:"DeepL API Key"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"password",value:t.deeplApiKey||"",onChange:r=>d(a=>({...a,deeplApiKey:r.target.value})),placeholder:"deepl-xxxxxxxx",className:"flex-1 min-w-[220px] rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-[#1A1D24] dark:text-gray-100 dark:focus:ring-indigo-500/40"}),e.jsx("span",{className:"text-[11px] text-gray-500 dark:text-gray-400",children:"Write & Translate"})]}),e.jsx("p",{className:"mt-1 text-[11px] text-gray-500 dark:text-gray-400",children:"Required to use the DeepL workspace in this app."})]})]})]}),e.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-[#0F1115]",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Supabase Sync"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Configure optional cloud backup and sync."}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-500",children:"Supabase URL"}),e.jsx("input",{type:"text",value:t.supabaseUrl||"",onChange:r=>d(a=>({...a,supabaseUrl:r.target.value})),placeholder:"https://xxxxxxxx.supabase.co",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-[#1A1D24] dark:text-gray-100 dark:focus:ring-indigo-500/40"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-500",children:"Anon Key"}),e.jsx("input",{type:"password",value:t.supabaseAnonKey||"",onChange:r=>d(a=>({...a,supabaseAnonKey:r.target.value})),placeholder:"eyJhbGciOi...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-[#1A1D24] dark:text-gray-100 dark:focus:ring-indigo-500/40"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-500",children:"Workspace ID"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t.supabaseWorkspaceId||"",onChange:r=>d(a=>({...a,supabaseWorkspaceId:r.target.value})),placeholder:"e.g., my-workspace-1",className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-[#1A1D24] dark:text-gray-100 dark:focus:ring-indigo-500/40"}),e.jsx("button",{onClick:()=>d(r=>({...r,supabaseWorkspaceId:`ws-${Date.now().toString(36)}`})),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-[#1A1D24]",children:"Generate"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-500",children:"Status"}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("input",{type:"checkbox",checked:!!t.supabaseEnabled,onChange:r=>d(a=>({...a,supabaseEnabled:r.target.checked}))}),"Enable cloud sync"]})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-[#1A1D24]",onClick:async()=>{try{const r=i.get(c.WORK_CHECKLIST,{});await(await v(()=>import("./index-2444a23b.js").then(s=>s.a0),["assets/index-2444a23b.js","assets/index-4c55bb27.css"])).supabasePushState(t,r),alert("Pushed to Supabase successfully.")}catch(r){alert("Push failed: "+r.message)}},children:[e.jsx(w,{className:"w-4 h-4"})," Push to Supabase"]}),e.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-[#1A1D24]",onClick:async()=>{try{const a=await(await v(()=>import("./index-2444a23b.js").then(s=>s.a0),["assets/index-2444a23b.js","assets/index-4c55bb27.css"])).supabasePullState(t);if(!(a!=null&&a.data)){alert("No remote state found.");return}i.set(c.WORK_CHECKLIST,a.data),confirm("Pulled from Supabase. Reload to apply?")&&window.location.reload()}catch(r){alert("Pull failed: "+r.message)}},children:[e.jsx(C,{className:"w-4 h-4"})," Pull from Supabase"]})]})]}),e.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-[#0F1115]",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Local Storage"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Back up or restore your workspace data."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-[#1A1D24]",onClick:F,children:[e.jsx(C,{className:"w-4 h-4"})," Download Backup"]}),e.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-[#1A1D24]",onClick:()=>{var r;return(r=y.current)==null?void 0:r.click()},children:[e.jsx(w,{className:"w-4 h-4"})," Restore Backup"]}),e.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-red-200 px-3 py-2 text-sm font-medium text-red-600 transition hover:bg-red-50 dark:border-red-900 dark:text-red-300 dark:hover:bg-red-900/30",onClick:_,children:[e.jsx(h,{className:"w-4 h-4"})," Clear All Data"]}),e.jsx("input",{ref:y,type:"file",accept:"application/json",className:"hidden",onChange:I})]})]})]})]})};export{J as default};
